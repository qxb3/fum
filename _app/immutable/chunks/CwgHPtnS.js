import{w as b,x as l,b as g,y as d,S as p,z as y,A as S,B as a,C as o,g as T,D as w}from"./DFNjw4_i.js";import{s as x,g as A}from"./CuJUsSKJ.js";function c(s,r){return s===r||(s==null?void 0:s[p])===r}function E(s={},r,i,u){return b(()=>{var n,f;return l(()=>{n=f,f=[],g(()=>{s!==i(...f)&&(r(s,...f),n&&c(i(...n),s)&&r(null,...n))})}),()=>{d(()=>{f&&c(i(...f),s)&&r(null,...f)})}}),s}let t=!1,e=Symbol();function M(s,r,i){const u=i[r]??(i[r]={store:null,source:o(void 0),unsubscribe:a});if(u.store!==s&&!(e in i))if(u.unsubscribe(),u.store=s??null,s==null)u.source.v=void 0,u.unsubscribe=a;else{var n=!0;u.unsubscribe=x(s,f=>{n?u.source.v=f:w(u.source,f)}),n=!1}return s&&e in i?A(s):T(u.source)}function N(){const s={};function r(){y(()=>{for(var i in s)s[i].unsubscribe();S(s,e,{enumerable:!1,value:!0})})}return[s,r]}function O(s){var r=t;try{return t=!1,[s(),t]}finally{t=r}}export{M as a,E as b,O as c,N as s};
